{"version":3,"file":"ej2-heatmap.umd.min.js","sources":["../src/heatmap/utils/helper.js","../src/heatmap/model/theme.js","../src/heatmap/model/base.js","../src/heatmap/utils/colorMapping.js","../src/heatmap/axis/axis.js","../src/heatmap/axis/axis-helpers.js","../src/heatmap/series/series.js","../src/heatmap/utils/tooltip.js","../src/heatmap/datasource/twodimensional.js","../src/heatmap/legend/legend.js","../src/heatmap/heatmap.js","../src/heatmap/datasource/adaptor.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, remove, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Helper method for heatmap\n */\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to measure the height and width of the text.\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle;\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight;\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Internal class size for height and width\n * @private\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id, xIndex, yIndex, xValue, yValue, visible, displayText, textId) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n        this.xIndex = xIndex;\n        this.yIndex = yIndex;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.visible = visible;\n        this.displayText = displayText;\n        this.textId = textId;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Class to define the details of selected cell.\n * @private\n */\nvar SelectedCellDetails = /** @class */ (function () {\n    function SelectedCellDetails(value, xLabel, yLabel, xValue, yValue, cellElement) {\n        this.value = value;\n        this.xLabel = xLabel;\n        this.yLabel = yLabel;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.cellElement = cellElement;\n    }\n    return SelectedCellDetails;\n}());\nexport { SelectedCellDetails };\n/**\n * Class to define property to draw rectangle.\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : '';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : '';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/** @private */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var text;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight,\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.drawText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        ctx.fillText(label, options.x - translateX, options.y - translateY);\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        var cornerRadius = options.rx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] != 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    ;\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var initialClip = heatmap.initialClipRect;\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n                'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (y - (size.height + 6) - 10).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/* private*/\n/* Method to get the tool tip text in canvas based on region. */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nvar LegendRange = /** @class */ (function () {\n    function LegendRange(x, y, width, height, value, visible, currentPage) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.visible = visible;\n        this.currentPage = currentPage;\n    }\n    return LegendRange;\n}());\nexport { LegendRange };\n/** @private */\nvar ToggleVisibility = /** @class */ (function () {\n    function ToggleVisibility(visible, value) {\n        this.visible = visible;\n        this.value = value;\n    }\n    return ToggleVisibility;\n}());\nexport { ToggleVisibility };\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n/** @private */\nexport function formatValue(isCustom, format, tempInterval, formatFun) {\n    return isCustom ? format.replace('{value}', formatFun(tempInterval))\n        : formatFun(tempInterval);\n}\n/** @private */\nvar MultiLevelPosition = /** @class */ (function () {\n    function MultiLevelPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MultiLevelPosition;\n}());\nexport { MultiLevelPosition };\n","/**\n * Specifies HeatMaps Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n    /** @private */\n    Theme.tooltipFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n})(Theme || (Theme = {}));\n/** @private */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme.toLowerCase()) {\n        case 'highcontrastlight':\n        case 'highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'materialdark':\n        case 'fabricdark':\n        case 'bootstrapdark':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#DADADA',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                toggledColor: '#ffffff',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from './theme';\n/**\n * Configures the fonts in heat map.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the heat map margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the borders in the heat map.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the tooltip borders in the heat map.\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Configures the mapping name for size and color in SizeAndColor type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * class used to maintain Title styles.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * class used to maintain palette information.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * label border properties.\n */\nvar AxisLabelBorder = /** @class */ (function (_super) {\n    __extends(AxisLabelBorder, _super);\n    function AxisLabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#b5b5b5')\n    ], AxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], AxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], AxisLabelBorder.prototype, \"type\", void 0);\n    return AxisLabelBorder;\n}(ChildProperty));\nexport { AxisLabelBorder };\n/**\n * categories for multi level labels\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * MultiLevelLabels properties\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 1, type: 'Rectangle' }, AxisLabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n/**\n * Internal class used to maintain colorcollection.\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * class used to maintain color and value collection.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Configures the color property in Heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = colorMapping[0].value;\n        var nextOffset = 0;\n        for (var i = 1; i < colorMapping.length; i++) {\n            var offset = Number(colorMapping[i].value);\n            if (value <= offset) {\n                nextOffset = offset;\n                break;\n            }\n            else {\n                nextOffset = offset;\n                previousOffset = offset;\n            }\n        }\n        var percent = 0;\n        var full = nextOffset - previousOffset;\n        percent = (value - previousOffset) / full;\n        percent = isNaN(percent) ? 0 : percent;\n        var previousColor = this.getEqualColor(colorMapping, previousOffset);\n        var nextColor = this.getEqualColor(colorMapping, nextOffset);\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n            heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        this.updateLegendColorCollection(minValue, maxValue, tempcolorMapping);\n    };\n    /**\n     * To update legend color Collection.\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue, tempcolorMapping) {\n        if (this.heatMap.paletteSettings.type === 'Fixed' && (tempcolorMapping.isCompact || tempcolorMapping.isLabel)) {\n            return;\n        }\n        if (minValue < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(minValue, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, true));\n        }\n        if (maxValue > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(maxValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = 'value';\n        var label = 'label';\n        returnCollection.isCompact = true;\n        returnCollection.isLabel = true;\n        // tslint:disable-next-line:no-any \n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (isNullOrUndefined(a[label]) && isNullOrUndefined(b[label])) {\n                returnCollection.isLabel = false;\n            }\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                        this.heatMap.colorCollection[y].value;\n                    var singleValue = this.heatMap.dataSourceMinValue === this.heatMap.dataSourceMaxValue;\n                    if ((text <= compareValue && y === 0 && singleValue) || text < compareValue ||\n                        (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                        var legendRange = void 0;\n                        if (this.heatMap.legendVisibilityByCellType) {\n                            legendRange = this.heatMap.legendModule.legendRange;\n                        }\n                        color = (this.heatMap.legendVisibilityByCellType && legendRange[y] && !legendRange[y].visible) ?\n                            this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].color;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (text < this.heatMap.colorCollection[0].value) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined, Collection } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title, AxisLabelBorder, MultiLevelLabels } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval, formatValue } from '../utils/helper';\nimport { MultiLevelPosition, textWrap } from '../utils/helper';\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        /** @private */\n        _this.jsonCellLabel = [];\n        _this.multiLevelSize = [];\n        /** @private */\n        _this.xAxisMultiLabelHeight = [];\n        /** @private */\n        _this.yAxisMultiLabelHeight = [];\n        /** @private */\n        _this.multiLevelPosition = [];\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap, rect) {\n        var size = new Size(0, 0);\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n        this.getMultilevelLabelsHeight(axis, rect, heatmap);\n        for (var i = 0; i < this.multiLevelLabels.length; i++) {\n            size = axis.multiLevelLabelSize(innerPadding, i);\n            this.multiLevelSize.push(size);\n        }\n    };\n    /**\n     * calculating x, y position of multi level labels\n     * @private\n     */\n    Axis.prototype.multiPosition = function (axis, index) {\n        var innerPadding = axis.orientation === 'Horizontal' ? 10 : 20;\n        var multiPosition = new MultiLevelPosition(0, 0);\n        if (axis.orientation === 'Horizontal') {\n            var level0 = axis.maxLabelSize.height + innerPadding;\n            var level1 = this.xAxisMultiLabelHeight[index - 1];\n            multiPosition.x = (axis.isInversed ? axis.rect.x + axis.rect.width : axis.rect.x);\n            multiPosition.y = index === 0 ? axis.rect.y + (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].y + (axis.opposedPosition ? -level1 : level1);\n        }\n        else {\n            var level0 = axis.maxLabelSize.width + innerPadding;\n            var level1 = index !== 0 && (this.multiLevelSize[index - 1].width);\n            multiPosition.x = index === 0 ? axis.rect.x - (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].x - (axis.opposedPosition ? -(level1 + innerPadding) : level1 + innerPadding);\n            multiPosition.y = axis.isInversed ? axis.rect.y : axis.rect.y + axis.rect.height;\n        }\n        return multiPosition;\n    };\n    Axis.prototype.multiLevelLabelSize = function (innerPadding, index) {\n        var labelSize = new Size(0, 0);\n        var multiLevel = this.multiLevelLabels;\n        var categoryLabel = multiLevel[index].categories;\n        for (var i = 0; i < categoryLabel.length; i++) {\n            var size_1 = measureText(categoryLabel[i].text, multiLevel[index].textStyle);\n            labelSize.width = (labelSize.width > size_1.width) ? labelSize.width : size_1.width;\n            labelSize.height = (labelSize.height > size_1.height) ? labelSize.height : size_1.height;\n        }\n        var size = (this.orientation === 'Horizontal') ? this.xAxisMultiLabelHeight[index] : this.yAxisMultiLabelHeight[index];\n        if (this.opposedPosition) {\n            this.farSizes.push(size);\n        }\n        else {\n            this.nearSizes.push(size);\n        }\n        return labelSize;\n    };\n    Axis.prototype.getMultilevelLabelsHeight = function (axis, rect, heatmap) {\n        var labelSize;\n        var gap;\n        var height;\n        var multiLevelLabelsHeight = [];\n        var start;\n        var end;\n        var startPosition;\n        var endPosition;\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = (isVertical ? rect.height : rect.width) / axis.axisLabelSize;\n        var padding = axis.orientation === 'Vertical' ? 20 : 10;\n        this.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    startPosition = heatmap.heatMapAxis.calculateLeftPosition(axis, start, categoryLabel.start, rect);\n                    endPosition = heatmap.heatMapAxis.calculateWidth(axis, categoryLabel.end, end, rect);\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endPosition - startPosition) :\n                        categoryLabel.maximumTextWidth);\n                    if ((labelSize.width > gap - padding) && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height + padding :\n                        ((multiLevelLabelsHeight[index] < height) ? height + padding : multiLevelLabelsHeight[index]);\n                }\n            });\n        });\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        var padding = (axis.border.width > 0 || axis.multiLevelLabels.length > 0) ? 10 : 0;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        if (axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim'))) {\n            var interval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                heatmap.initialClipRect.width / axis.axisLabelSize : heatmap.initialClipRect.width / axis.axisLabels.length;\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            var previousStart = void 0;\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var axisInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] * interval : interval;\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (!axis.isInversed) {\n                    if (isNullOrUndefined(previousEnd)) {\n                        previousEnd = endPoint;\n                    }\n                    else if ((startPoint < previousEnd)) {\n                        if (axis.labelIntersectAction === 'Rotate45') {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (isNullOrUndefined(previousStart)) {\n                        previousStart = startPoint;\n                    }\n                    else if ((previousStart < endPoint)) {\n                        if (axis.labelIntersectAction === 'Rotate45') {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousStart = startPoint;\n                }\n                startX += axis.isInversed ? -axisInterval : axisInterval;\n            }\n        }\n        for (var i = 0; i < labels.length; i++) {\n            var size = (axis.angle % 180 === 0) ?\n                measureText(labels[i], axis.textStyle) : rotateTextSize(axis.textStyle, labels[i], axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        labels = (labels.length > 0) ? labels : this.jsonCellLabel;\n        var min = !isNullOrUndefined(this.minimum) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = labels[i] ? labels[i].toString() : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                this.axisLabels.push(i.toString());\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(labels[i] ? labels[i].toString() : i.toString());\n            this.labelValue.push(labels[i] ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    /**\n     * Clear the axis label collection\n     * @private\n     */\n    Axis.prototype.clearAxisLabel = function () {\n        this.axisLabels = [];\n        this.tooltipLabels = [];\n        this.dateTimeAxisLabelInterval = [];\n        this.labelValue = [];\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 0, type: 'Rectangle' }, AxisLabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip, PathOption, textWrap } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY } from '../utils/helper';\nimport { extend, Browser } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *  @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            var optionsLine = {};\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (axis.multiLevelLabels.length > 0) {\n                this.drawMultiLevels(element, axis);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var y = rect.y + (!axis.opposedPosition ? (axis.maxLabelSize.height + this.padding +\n            sum(axis.xAxisMultiLabelHeight)) : -(axis.maxLabelSize.height + this.padding + sum(axis.xAxisMultiLabelHeight)));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var elementSize = measureText(title.text, title.textStyle);\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var x = rect.x + padding + ((axis.opposedPosition) ? axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight) :\n                -(axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight)));\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        var data = this.heatMap.dataSource;\n        var processLabels = !(data && data.isJsonData && data.adaptorType === 'Cell');\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            if (axis.valueType === 'Numeric' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else if (axis.valueType === 'Category') {\n                axis.clearAxisLabel();\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap, rect);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis_1 = axisCollection[i];\n            axis_1.rect = extend({}, rect, null, true);\n            if (axis_1.orientation === 'Horizontal' && !axis_1.opposedPosition) {\n                axis_1.rect.y = rect.y + rect.height;\n                axis_1.rect.height = 0;\n            }\n            if (axis_1.orientation === 'Vertical' && axis_1.opposedPosition) {\n                axis_1.rect.x = rect.x + rect.width;\n                axis_1.rect.width = 0;\n            }\n            axis_1.multiLevelPosition = [];\n            for (var i_1 = 0; i_1 < axis_1.multiLevelLabels.length; i_1++) {\n                var multiPosition = axis_1.multiPosition(axis_1, i_1);\n                axis_1.multiLevelPosition.push(multiPosition);\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.width / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var anglePadding = ((angle === 90 || angle === -90)) ? -2 : 0;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ?\n                -(padding)\n                : (padding + ((angle % 360) === 0 ? (elementSize.height / 2) : 0));\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) - (elementSize.width / 2) : -((lableRect.width / 2) + (elementSize.width / 2)));\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            var y = rect.y + labelPadding;\n            this.drawXAxisBorder(axis, borderElement, axis.rect, x, elementSize.width, i);\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                var rotateSize = rotateTextSize(axis.textStyle, label, angle);\n                var diffHeight = axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                var yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2));\n                y = y + (axis.opposedPosition ? -(rotateSize.height / 2) :\n                    (((angle % 360) === 180 || (angle % 360) === -180) ? 0 : (rotateSize.height) / 2));\n                transform = 'rotate(' + angle + ',' + x + ','\n                    + y + ')';\n            }\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, label);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, labelElement, label);\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (label.indexOf('...') !== -1) {\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(x, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = labelRect.height / 2; //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var x = labelRect.x + padding;\n            var y = labelRect.y + (axis.isInversed ? position : -position);\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, labels[i], 0, 'rotate(' + 0 + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            this.drawSvgCanvas.createText(options, labelElement, labels[i]);\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n            var elementSize = measureText(labels[i], axis.textStyle);\n            this.drawYAxisBorder(axis, borderElement, axis.rect, y, elementSize.height, i);\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisBorder = function (axis, parent, rect, lableX, width, index) {\n        var interval = rect.width / axis.axisLabelSize;\n        var path = '';\n        var padding = 10;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = axis.isInversed ? rect.x + rect.width - (interval * index * axisInterval) :\n            rect.x + (interval * index * axisInterval);\n        var startY = rect.y;\n        var endX;\n        var endY;\n        endY = startY + (axis.opposedPosition ? -(axis.maxLabelSize.height + padding) : axis.maxLabelSize.height + padding);\n        endX = axis.isInversed ? startX - interval : startX + interval;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY);\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding_1 = 3;\n                endY = startY + ((endY - startY) / 2) + (axis.opposedPosition ? 0 : 5);\n                var endY1 = axis.isInversed ? (lableX + width + padding_1) : (lableX - padding_1);\n                var endY2 = axis.isInversed ? (lableX - padding_1) : (lableX + width + padding_1);\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endY1 + ' ' + endY + ' ' + 'M' + ' ' + endY2 +\n                    ' ' + endY + ' ' + 'L' +\n                    ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    AxisHelper.prototype.drawYAxisBorder = function (axis, parent, rect, lableY, height, index) {\n        var interval = rect.height / axis.axisLabelSize;\n        var path = '';\n        var padding = 20;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = rect.x;\n        var startY = axis.isInversed ? rect.y + (interval * index * axisInterval) :\n            rect.y + rect.height - (interval * index * axisInterval);\n        var endX;\n        var endY;\n        endX = startX + (!axis.opposedPosition ? -(axis.maxLabelSize.width + padding) : axis.maxLabelSize.width + padding);\n        endY = axis.isInversed ? startY + interval : startY - interval;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY;\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endX = startX - (startX - endX) / 2;\n                var endY1 = axis.isInversed ? lableY - height / 2 : lableY + height / 2;\n                var endY2 = axis.isInversed ? lableY + height / 2 : lableY - height / 2;\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY1 + ' ' + 'M' + ' ' +\n                    endX + ' ' + endY2 + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY;\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    /**\n     * To create border element for axis.\n     * @return {void}\n     * @private\n     */\n    AxisHelper.prototype.createAxisBorderElement = function (axis, labelBorder, parent, index) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? '_XAxis_Label_Border' : '_YAxis_Label_Border';\n        var pathOptions = new PathOption(this.heatMap.element.id + id + index, 'transparent', axis.border.width, axis.border.color, 1, 'none', labelBorder);\n        if (!this.heatMap.enableCanvasRendering) {\n            var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    AxisHelper.prototype.drawMultiLevels = function (parent, axis) {\n        var element;\n        if (!this.heatMap.enableCanvasRendering) {\n            element = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_' + axis.orientation + '_MultiLevelLabel' });\n        }\n        axis.orientation === 'Horizontal' ? this.renderXAxisMultiLevelLabels(axis, element, axis.rect) :\n            this.renderYAxisMultiLevelLabels(axis, element, axis.rect);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(element);\n        }\n    };\n    /**\n     * render x axis multi level labels\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderXAxisMultiLevelLabels = function (axis, parent, rect) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endX = 0;\n        var tooltip;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var width;\n        var textLength;\n        var position = (isInversed ? axis.rect.width : 0) + axis.rect.x;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_XAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                tooltip = false;\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startX = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startY = axis.multiLevelPosition[level].y;\n                endX = position + _this.calculateWidth(axis, categoryLabel.end, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endX - startX) : categoryLabel.maximumTextWidth) - padding;\n                y = startY + (opposedPosition ? -((axis.xAxisMultiLabelHeight[level] - labelSize.height)) : labelSize.height);\n                width = categoryLabel.maximumTextWidth ? categoryLabel.maximumTextWidth : labelSize.width;\n                x = !isInversed ? startX + padding : startX - gap;\n                if (multiLevel.alignment === 'Center') {\n                    x = ((endX - startX) / 2) + startX;\n                    x -= (labelSize.width > gap ? gap : labelSize.width) / 2;\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    x = !isInversed ? endX - padding : startX - padding;\n                    x -= (labelSize.width > gap ? gap : labelSize.width);\n                }\n                else {\n                    x = !isInversed ? startX + padding : endX + padding;\n                }\n                if (multiLevel.overflow === 'None' && labelSize.width > Math.abs(endX - startX)) {\n                    x = !isInversed ? startX + padding : startX - labelSize.width - padding;\n                    anchor = 'start';\n                }\n                var textBasic = new TextBasic(x, y, anchor, categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_XAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                if (multiLevel.overflow === 'Wrap') {\n                    options.text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    textLength = options.text.length;\n                }\n                else if (multiLevel.overflow === 'Trim') {\n                    options.text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    textLength = 1;\n                }\n                if (multiLevel.overflow === 'Wrap' && options.text.length > 1) {\n                    _this.drawSvgCanvas.createWrapText(options, multiLevel.textStyle, labelElement);\n                    for (var i_2 = 0; i_2 < options.text.length; i_2++) {\n                        if (options.text[i_2].indexOf('...') !== -1) {\n                            tooltip = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n                if (options.text.indexOf('...') !== -1 || options.text[0].indexOf('...') !== -1 || tooltip) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height * textLength)));\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderXAxisLabelBorder(level, axis, startX, startY, endX, pathRect, level, labelSize, gap, x);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderXAxisLabelBorder = function (labelIndex, axis, startX, startY, endX, path, level, labelSize, gap, x) {\n        var path1;\n        var path2;\n        var endY = startY + (axis.opposedPosition ? -(axis.xAxisMultiLabelHeight[labelIndex]) :\n            axis.xAxisMultiLabelHeight[labelIndex]);\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding = 3;\n                path1 = axis.isInversed ? (labelSize.width > gap ? gap : labelSize.width) + x + padding : x - padding;\n                path2 = axis.isInversed ? x - padding : (labelSize.width > gap ? gap : labelSize.width) + x + padding;\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + (startY + (endY - startY) / 2) + ' ' +\n                    'L' + ' ' + path1 + ' ' + (startY + (endY - startY) / 2) + ' ' + 'M' + ' ' + path2 + ' ' + (startY +\n                    (endY - startY) / 2) + ' ' + 'L' + ' ' + endX + ' ' + (startY + (endY - startY) / 2) +\n                    ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderYAxisMultiLevelLabels = function (axis, parent, rect) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var startY2;\n        var endY;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var interval = (axis.rect.height / axis.axisLabelSize) / axis.increment;\n        var text;\n        var position = (!isInversed ? axis.rect.height : 0) + axis.rect.y;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            startY2 = axis.multiLevelPosition[level].y;\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_YAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startY = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startX = axis.multiLevelPosition[level].x;\n                endY = position + _this.calculateWidth(axis, categoryLabel.start, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(startX) : categoryLabel.maximumTextWidth) - padding;\n                var maxWidth = Math.abs(startX - (startX - axis.multiLevelSize[level].width - 2 * padding)) / 2 -\n                    (labelSize.width / 2);\n                x = (axis.opposedPosition ? startX : startX - axis.multiLevelSize[level].width - 2 * padding) + maxWidth;\n                y = startY + padding;\n                if (multiLevel.overflow !== 'None') {\n                    if (multiLevel.overflow === 'Wrap') {\n                        text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    }\n                    else {\n                        text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    }\n                }\n                if (multiLevel.alignment === 'Center') {\n                    y += ((endY - startY) / 2 - (text.length * labelSize.height) / 2);\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    y = isInversed ? endY - labelSize.height / 2 : y - labelSize.height;\n                }\n                else {\n                    y = isInversed ? y + labelSize.height / 2 : endY + labelSize.height;\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderYAxisLabelBorder(level, axis, startX, startY, endY, pathRect, level, labelSize, gap, y);\n                }\n                var textBasic = new TextBasic(x, y, 'start', categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_YAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                options.text = text;\n                _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                if (options.text.indexOf('...') !== -1) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height)));\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderYAxisLabelBorder = function (labelIndex, axis, startX, startY, endY, path, level, labelSize, gap, y) {\n        var padding = 20;\n        var path1;\n        var path2;\n        var endX = startX - (axis.opposedPosition ? -(axis.multiLevelSize[labelIndex].width + padding) :\n            (axis.multiLevelSize[labelIndex].width + padding));\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding_2 = 10;\n                path1 = axis.isInversed ? (y - padding_2 - 5) : (y + (labelSize.height) - padding_2);\n                path2 = axis.isInversed ? (y + (labelSize.height) - padding_2) : (y - padding_2 - 5);\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + startY + ' ' +\n                    'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + path1 + ' ' + 'M' + ' ' + (startX + (endX - startX) / 2) +\n                    ' ' + path2 + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' +\n                    endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * create borer element\n     * @return {void}\n     * @private\n     */\n    AxisHelper.prototype.createBorderElement = function (borderIndex, axis, path, parent) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? 'XAxis' : 'YAxis';\n        var pathOptions = new PathOption(this.heatMap.element.id + '_' + id + '_MultiLevel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color, 1, '', path);\n        var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    /**\n     * calculate left position of border element\n     * @private\n     */\n    AxisHelper.prototype.calculateLeftPosition = function (axis, start, label, rect) {\n        var value;\n        var interval;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                start -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * start * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(start, axis, true, rect);\n            value = axis.isInversed ? -interval : interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    /**\n     * calculate width of border element\n     * @private\n     */\n    AxisHelper.prototype.calculateWidth = function (axis, label, end, rect) {\n        var interval;\n        var value;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                end -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * (end + 1) * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(end, axis, false, rect);\n            value = interval;\n            value = axis.isInversed ? -value : value;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    AxisHelper.prototype.calculateNumberOfDays = function (date, axis, start, rect) {\n        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        var oneMinute = 60 * 1000;\n        var oneHour = 60 * 60 * 1000;\n        var firstDate;\n        var secondDate;\n        var labels = axis.labelValue;\n        var position;\n        var interval = (axis.orientation === 'Horizontal' ? rect.width : rect.height) / axis.axisLabelSize;\n        var givenDate = new Date(Number(date));\n        var days = 0;\n        for (var index = 0; index < axis.axisLabelSize; index++) {\n            firstDate = new Date(Number(labels[index]));\n            secondDate = axis.isInversed ? new Date(Number(labels[index - 1])) : new Date(Number(labels[index + 1]));\n            if (index === (axis.isInversed ? 0 : axis.axisLabelSize - 1)) {\n                secondDate = new Date(Number(labels[index]));\n                if (axis.intervalType === 'Hours') {\n                    secondDate = new Date(Number(secondDate.setHours(secondDate.getHours() + 1)));\n                }\n                else if ((axis.intervalType === 'Minutes')) {\n                    secondDate = new Date(Number(secondDate.setMinutes(secondDate.getMinutes() + 1)));\n                }\n                else if ((axis.intervalType === 'Days')) {\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + 1)));\n                }\n                else {\n                    var numberOfDays = axis.intervalType === 'Months' ?\n                        new Date(secondDate.getFullYear(), secondDate.getMonth() + 1, 0).getDate() :\n                        secondDate.getFullYear() % 4 === 0 ? 366 : 365;\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + numberOfDays)));\n                }\n            }\n            if (Number(firstDate) <= date && Number(secondDate) >= date) {\n                if (axis.intervalType === 'Minutes' || axis.intervalType === 'Hours') {\n                    var totalMinutes = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneMinute)));\n                    var minutesInHours = Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneMinute));\n                    days = (interval / totalMinutes) * minutesInHours;\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n                else {\n                    var numberOfDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));\n                    start ? givenDate.getDate() : givenDate.setDate(givenDate.getDate() + 1);\n                    if (numberOfDays !== 0) {\n                        days = (interval / numberOfDays) * (Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneDay)));\n                    }\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n            }\n        }\n        return position;\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex, formatValue } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Configures the CellSettings property in the Heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     * @return {void}\n     * @private\n     */\n    //tslint:disable:max-line-length\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var themeStyle = heatMap.themeStyle;\n        var tempBorder;\n        var tempRectPosition = [];\n        var circleRadius;\n        tempBorder = cellSetting.border;\n        var borderColor;\n        var displayText;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '', 0, 0, 0, 0, true, '', '');\n            borderColor = tempBorder.color;\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x, dataYIndex, dataXIndex);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x, dataYIndex, dataXIndex);\n            }\n            if (cellSetting.showLabel) {\n                displayText = this.getFormatedText(this.text, cellSetting.format);\n                rectPosition.displayText = displayText;\n                if (!isNullOrUndefined(this.heatMap.cellRender)) {\n                    displayText = this.cellRendering(rectPosition, displayText);\n                }\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight, displayText);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6, displayText); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6, displayText);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                rectPosition.textId = options.id;\n                if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                    this.toggleCellTextColor(rectPosition, options, dataXIndex, dataYIndex);\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To toggle the cell text color based on legend selection.\n     */\n    Series.prototype.toggleCellTextColor = function (rectPosition, options, dataXIndex, dataYIndex) {\n        for (var i = 0; i < this.heatMap.toggleValue.length; i++) {\n            var minValue = (i === 0) ? this.heatMap.dataSourceMinValue : this.heatMap.toggleValue[i].value;\n            var maxValue = (i === this.heatMap.toggleValue.length - 1) ? this.heatMap.dataSourceMaxValue :\n                this.heatMap.toggleValue[i + 1].value - 0.01;\n            // tslint:disable-next-line:no-any\n            var clonedDataSource = this.heatMap.clonedDataSource;\n            var bubbleText = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '';\n            var text = this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor' ?\n                bubbleText : this.text;\n            if (text && text >= minValue && text <= maxValue) {\n                if (!this.heatMap.toggleValue[i].visible) {\n                    options.fill = this.heatMap.themeStyle.toggledColor;\n                    rectPosition.visible = false;\n                    break;\n                }\n                else {\n                    options.fill = options.fill;\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To customize the cell.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.cellRendering = function (rectPosition, text) {\n        var xAxis = this.heatMap.axisCollections[0];\n        var yAxis = this.heatMap.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var yLabelValue = yAxis.labelValue.slice().reverse();\n        var argData = {\n            heatmap: this.heatMap,\n            cancel: false,\n            name: 'cellRender',\n            value: rectPosition.value,\n            xLabel: xLabels[rectPosition.xIndex].toString(),\n            yLabel: yLabels[rectPosition.yIndex].toString(),\n            displayText: text,\n            xValue: xAxis.labelValue[rectPosition.xIndex],\n            yValue: yLabelValue[rectPosition.yIndex]\n        };\n        this.heatMap.trigger('cellRender', argData);\n        return argData.displayText;\n    };\n    /**\n     * To set color and text details.\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        var cellSetting = this.heatMap.cellSettings;\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSource;\n        // tslint:disable-next-line:no-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? this.heatMap.dataSource.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    this.heatMap.dataSource.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup',\n                x: this.heatMap.initialClipRect.x, y: this.heatMap.initialClipRect.y, transform: 'translate( 0, 0)'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x, dataXIndex, dataYIndex) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n        rectPosition.xIndex = dataXIndex;\n        rectPosition.yIndex = dataYIndex;\n    };\n    /**\n     * To Render Tile Cell.\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        var clockWise;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight, displayText) {\n        if (this.heatMap.cellSettings.showLabel) {\n            this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n            this.checkLabelXDisplay = tempWidth > (displayText.length *\n                (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n        }\n    };\n    /**\n     * To find percentage value.\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        valueInPrecentage = isNaN(valueInPrecentage) ? 100 : valueInPrecentage;\n        radius = ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))\n            && this.heatMap.cellSettings.isInversedBubbleSize) ? radius - (radius * (valueInPrecentage / 100))\n            : radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        if (oldElement && !this.heatMap.rectSelected) {\n                            oldElement.setAttribute('opacity', '1');\n                        }\n                        if (element && !this.heatMap.rectSelected) {\n                            element.setAttribute('opacity', '0.65');\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    if (oldElement && !this.heatMap.rectSelected) {\n                        oldElement.setAttribute('opacity', '1');\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = formatValue(isCustom, format, val, this.format);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     * @return {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    return Series;\n}());\nexport { Series };\n","/**\n * HeatMap tool tip file\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, Property, Complex, ChildProperty, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\nimport { TooltipBorder, Font, } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Configures the color property in Heatmap.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({}, TooltipBorder)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.tooltipFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (heatMap) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    ;\n    /**\n     * To add Tooltip to the rect cell.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (x, y, tempTooltipText) {\n        var offset = null;\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        this.tooltipObject = new tool({\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            fill: this.heatMap.tooltipSettings.fill,\n            border: {\n                width: this.heatMap.tooltipSettings.border.width,\n                color: this.heatMap.tooltipSettings.border.color\n            },\n            textStyle: {\n                size: this.heatMap.tooltipSettings.textStyle.size,\n                fontWeight: this.heatMap.tooltipSettings.textStyle.fontWeight,\n                color: this.heatMap.tooltipSettings.textStyle.color,\n                fontStyle: this.heatMap.tooltipSettings.textStyle.fontStyle,\n                fontFamily: this.heatMap.tooltipSettings.textStyle.fontFamily\n            },\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            },\n        }, '#' + this.heatMap.element.id + 'Celltooltipcontainer');\n    };\n    /**\n     * To create div container for tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer',\n            styles: 'position:absolute; z-index: 3'\n        });\n        this.heatMap.element.appendChild(createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent',\n            styles: 'position:relative'\n        })\n            .appendChild(element2));\n    };\n    /**\n     * To get default tooltip content.\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSource;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData);\n                if (!argData.cancel) {\n                    tempTooltipText = argData.content;\n                }\n                else {\n                    if (this.tooltipObject) {\n                        this.showHideTooltip(false);\n                    }\n                    return;\n                }\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n            }\n            if (!this.tooltipObject) {\n                this.createTooltip(currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n            }\n            else {\n                this.tooltipObject.content = tempTooltipText;\n            }\n            this.showHideTooltip(true);\n            this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n            this.isFirst = (this.isFirst) ? false : this.isFirst;\n            this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n            this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n            this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        }\n        if (!currentRect.visible) {\n            this.showHideTooltip(false, false);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *  @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // tslint:disable-next-line:no-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // tslint:disable-next-line:no-any \n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < yLength; z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // tslint:disable-next-line:no-any \n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 && !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip, formatValue, LegendRange, ToggleVisibility, sum } from '../utils/helper';\nimport { Font } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber, CurrentLegendRect, removeElement } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Configures the Legend\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        /** @private */\n        this.legendRange = [];\n        /** @private */\n        this.legendTextRange = [];\n        /** @private */\n        this.visibilityCollections = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    ;\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (heatMap) {\n        /**\n         * destory code\n         */\n    };\n    ;\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var colorCollection = (!heatMap.legendSettings.enableSmartLegend) ?\n                heatMap.colorCollection : heatMap.legendColorCollection;\n            this.legendRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendRange;\n            this.legendTextRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendTextRange;\n            heatMap.toggleValue = [];\n            for (var i = 0; i < colorCollection.length; i++) {\n                var visibility = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                heatMap.toggleValue.push(new ToggleVisibility(visibility, colorCollection[i].value));\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                var fill = void 0;\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                    }\n                    ctx.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue)) * 100;\n                        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                        gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                        cgradientColors.push(gradientColor);\n                        if (this.legendMaxValue === this.legendMinValue) {\n                            break;\n                        }\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderColorAxisGrid(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg, true);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        this.legendRange = [];\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var legendRange = new LegendRange(0, 0, 0, 0, 0, true, 0);\n            legendRange.x = legendX;\n            legendRange.y = legendY;\n            legendRange.width = legendWidth;\n            legendRange.height = legendHeight;\n            legendRange.value = heatMap.legendColorCollection[i].value;\n            legendRange.currentPage = this.currentPage;\n            if (colorCollection.length !== heatMap.legendColorCollection.length && i === heatMap.legendColorCollection.length - 1) {\n                heatMap.horizontalGradient ? legendRange.width = 0 : legendRange.height = 0;\n                this.visibilityCollections[i] = this.visibilityCollections[i - 1];\n            }\n            legendRange.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n            this.legendRange.push(legendRange);\n            if (!heatMap.legendColorCollection[i].isHidden) {\n                var color = heatMap.legendOnLoad ? colorCollection[i].color :\n                    this.legendRange[i].visible ? colorCollection[i].color : '#D3D3D3';\n                var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, color, tempBorder, 1, smartLegendRect);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                rectPosition.x = legendX;\n                rectPosition.y = legendY;\n                rectPosition.width = legendWidth;\n                rectPosition.height = legendHeight;\n                rectPosition.label = this.labelCollections[i];\n                rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n                this.legendRectPositionCollection.push(rectPosition);\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n                }\n            }\n        }\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        this.legendTextRange = [];\n        if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n            (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n            var anchor = void 0;\n            var dominantBaseline = void 0;\n            var legendLabel = void 0;\n            var textWrapWidth = 0;\n            var text = void 0;\n            this.legendLabelTooltip = [];\n            var elementSize = void 0;\n            var colorCollection = heatMap.legendColorCollection;\n            if (heatMap.enableCanvasRendering) {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n                ctx.save();\n                ctx.clip();\n                ctx.restore();\n            }\n            else {\n                legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n            }\n            var labelX = void 0;\n            var labelY = void 0;\n            for (var i = 0; i < colorCollection.length; i++) {\n                var value = ((colorCollection[i].value - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                if (heatMap.horizontalGradient) {\n                    labelX = this.segmentCollections[i];\n                    labelY = rect.y + rect.height + this.labelPadding;\n                    anchor = (value === 0 || (i === 0 && heatMap.paletteSettings.type === 'Fixed')) ? 'start' :\n                        (heatMap.dataSourceMaxValue === colorCollection[i].value) || (heatMap.legendSettings.enableSmartLegend &&\n                            heatMap.legendSettings.labelDisplayType === 'Edge') ? 'end' : 'middle';\n                    dominantBaseline = 'hanging';\n                }\n                else {\n                    labelX = rect.x + rect.width + this.labelPadding;\n                    labelY = this.segmentCollections[i];\n                    dominantBaseline = (value === 0 || (i === 0 && heatMap.paletteSettings.type === 'Fixed')) ? 'hanging' :\n                        (heatMap.dataSourceMaxValue === colorCollection[i].value) || (heatMap.legendSettings.enableSmartLegend &&\n                            heatMap.legendSettings.labelDisplayType === 'Edge') ? 'baseline' : 'middle';\n                }\n                textWrapWidth = heatMap.horizontalGradient ? this.textWrapCollections[i] : this.width - (this.legendRectScale.width +\n                    this.labelPadding + this.legendRectPadding);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                if (heatMap.paletteSettings.type === 'Fixed') {\n                    var rectY = dominantBaseline === 'hanging' ? labelY : dominantBaseline === 'middle' ?\n                        labelY - elementSize.height / 2 : labelY - elementSize.height;\n                    var rectX = anchor === 'end' ? labelX - elementSize.width : anchor === 'middle' ?\n                        labelX - elementSize.width / 2 : labelX;\n                    var textPosition = new LegendRange(rectX, rectY, elementSize.width, elementSize.height, colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n                if (this.labelCollections[i] !== '') {\n                    if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill :\n                        (heatMap.paletteSettings.type === 'Fixed' && !this.legendRange[i].visible) ? '#D3D3D3' : options.fill;\n                    if (text.length > 1) {\n                        this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                    }\n                    else {\n                        this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                    }\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        if (dominantBaseline === 'middle') {\n                            legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                        }\n                        else if (dominantBaseline === 'hanging') {\n                            legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                        }\n                    }\n                }\n                if (this.legendMaxValue === this.legendMinValue && heatMap.paletteSettings.type === 'Gradient') {\n                    break;\n                }\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n                this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n                this.legend.appendChild(legendLabel);\n                var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n                var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n                clippath.appendChild(clipRect);\n                heatMap.svgObject.appendChild(clippath);\n                this.legend.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.fillRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var colorCollection = heatMap.legendColorCollection;\n        this.labelCollections = [];\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        var format = heatMap.legendSettings.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].label ? colorCollection[i].label :\n                    formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                    && i > 0 && i < colorCollection.length - 1) {\n                    this.labelCollections.push('');\n                }\n                else {\n                    this.labelCollections.push(label);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ?\n                    colorCollection[i].label : formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                this.labelCollections.push(label);\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length) + this.listInterval;\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = '50';\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        var width = stringToNumber(this.legendWidth, rect.width);\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : sum(axis[0].xAxisMultiLabelHeight) + axis[0].maxLabelSize.height +\n                axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? sum(axis[1].yAxisMultiLabelHeight) +\n                axis[1].maxLabelSize.width + axisTitlePadding + 2 * padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : scale.height - 2 * padding;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = colorCollection[0].value > minValue ? minValue : colorCollection[0].value;\n        this.legendMaxValue = colorCollection[colorCollection.length - 1].value < maxValue ? maxValue :\n            colorCollection[colorCollection.length - 1].value;\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = ((colorCollection[index].value - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                value = isNaN(value) ? 0 : value;\n                if (!heatMap.horizontalGradient) {\n                    legendPart = rect.height / 100;\n                    pathY1 = legendRect.y + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                }\n                else {\n                    legendPart = rect.width / 100;\n                    pathX1 = legendRect.x + (legendPart * value);\n                    this.segmentCollections.push(pathX1);\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (this.segmentCollections[i] - this.segmentCollections[i - 1]) / 2;\n                    var nextSegmentWidth = (this.segmentCollections[i + 1] - this.segmentCollections[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = previousSegmentWidth < nextSegmentWidth ? previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    var width = this.legendRectScale.width / heatMap.colorCollection.length;\n                    textWrapWidth = heatMap.legendSettings.labelDisplayType === 'Edge' ? width : width / 2;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e) {\n        var x = this.heatMap.mouseX;\n        var y = this.heatMap.mouseY;\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && e.target.textContent.indexOf('...') > -1) {\n            var targetId = e.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], x, y, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            var element = document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip');\n            if (element) {\n                element.style.visibility = 'hidden';\n            }\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect, translate) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var division = 0;\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        if (translate) {\n            this.renderPagingElements();\n        }\n        var x;\n        var y;\n        var textWrapWidth = this.legendGroup.width - (this.legendSize +\n            this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            labelX = legendX + this.legendSize + this.labelPadding;\n            labelY = legendY + padding;\n            if (translate && heatMap.rendering && this.legendRange.length <= heatMap.colorCollection.length) {\n                var rectPosition = new LegendRange(legendX, legendY, legendSize, legendSize, heatMap.colorCollection[i].value, true, this.currentPage);\n                rectPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                this.legendRange.push(rectPosition);\n                if (heatMap.legendSettings.showLabel) {\n                    var textPosition = new LegendRange(labelX, (labelY - size.height / 2), size.width, size.height, heatMap.colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n            }\n            if (heatMap.legendSettings.showLabel) {\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                }\n                var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                options.fill = heatMap.legendOnLoad ? options.fill : this.legendRange[i].visible ? options.fill : '#D3D3D3';\n                this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                }\n            }\n            listRect = new Rect(legendX, legendY, legendSize, legendSize);\n            var listColor = heatMap.legendOnLoad ? heatMap.colorCollection[i].color :\n                this.legendRange[i].visible ? heatMap.colorCollection[i].color : '#D3D3D3';\n            var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, listColor, tempBorder, 1, listRect);\n            this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n            heatMap.horizontalGradient ? legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval :\n                legendY += this.legendSize + this.listInterval;\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.translategroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale, true);\n        }\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection && heatMap.rectSelected) {\n            var ctx = heatMap.secondaryCanvasRenderer.ctx;\n            var position = heatMap.legendSettings.position;\n            var initialRect = heatMap.initialClipRect;\n            var rectX = position === 'Right' ? initialRect.x + initialRect.width : 0;\n            var rectY = position === 'Bottom' ? initialRect.y + initialRect.height : 0;\n            var rectWidth = position === 'Right' ? heatMap.availableSize.width - (initialRect.x +\n                initialRect.width) : position === 'Left' ? initialRect.x : heatMap.availableSize.width;\n            var rectHeight = position === 'Top' ? initialRect.y : position === 'Bottom' ?\n                heatMap.availableSize.height - (initialRect.y + initialRect.height) : heatMap.availableSize.height;\n            ctx.save();\n            ctx.clearRect(rectX, rectY, rectWidth, rectHeight);\n            ctx.restore();\n            var oldCanvas = document.getElementById(heatMap.element.id + '_canvas');\n            var newCanvas = document.getElementById(heatMap.element.id + '_secondary_canvas');\n            var rectImage = oldCanvas.getContext('2d').getImageData(rectX, rectY, rectWidth, rectHeight);\n            newCanvas.getContext('2d').putImageData(rectImage, rectX, rectY);\n            oldCanvas.style.opacity = '0.3';\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function (heatMap) {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer',\n            styles: 'position:absolute'\n        });\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    /**\n     * Toggle the visibility of cells based on legend selection\n     * @private\n     */\n    Legend.prototype.legendRangeSelection = function (index) {\n        var heatMap = this.heatMap;\n        var legendRange = this.legendRange;\n        var padding = 5;\n        var legendBound = this.legendRectScale;\n        heatMap.rangeSelection = true;\n        if (heatMap.enableCanvasRendering) {\n            var ctx = heatMap.canvasRenderer.ctx;\n            if (heatMap.legendSettings.enableSmartLegend) {\n                ctx.fillRect(legendBound.x - padding, legendBound.y - padding, (legendBound.width + this.labelPadding + this.maxLegendLabelSize.width) + padding, legendBound.height + (2 * padding));\n            }\n            else {\n                ctx.fillRect(legendBound.x - padding, legendBound.y - padding, legendBound.width +\n                    padding, legendBound.height + (2 * padding));\n            }\n        }\n        else {\n            if (heatMap.legendSettings.enableSmartLegend) {\n                while (this.legend && this.legend.childNodes.length) {\n                    this.legend.removeChild(this.legend.firstChild);\n                }\n            }\n            else {\n                while (this.translategroup && this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            removeElement(heatMap.heatMapSeries.containerRectObject.id);\n            if (heatMap.cellSettings.showLabel) {\n                removeElement(heatMap.heatMapSeries.containerTextObject.id);\n            }\n        }\n        if (heatMap.legendSettings.enableSmartLegend) {\n            if (heatMap.colorCollection.length !== heatMap.legendColorCollection.length) {\n                if (index === heatMap.legendColorCollection.length - 1) {\n                    heatMap.toggleValue[index - 1].visible = this.visibilityCollections[index - 1] =\n                        legendRange[index - 1].visible = !legendRange[index].visible;\n                }\n                else {\n                    if (index === heatMap.colorCollection.length - 1) {\n                        heatMap.toggleValue[index + 1].visible = this.visibilityCollections[index + 1] =\n                            legendRange[index + 1].visible = !legendRange[index].visible;\n                    }\n                }\n            }\n        }\n        heatMap.toggleValue[index].visible = this.visibilityCollections[index] = legendRange[index].visible = !legendRange[index].visible;\n        heatMap.legendOnLoad = false;\n        if (heatMap.legendSettings.enableSmartLegend) {\n            this.renderSmartLegend();\n            var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.renderListLegendMode(this.legendRectScale, false);\n        }\n        heatMap.heatMapSeries.renderRectSeries();\n        heatMap.clearSelection();\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection) {\n            // heatMap.createSvg();\n            // heatMap.refreshBound();\n            // heatMap.createMultiCellDiv(false);\n        }\n    };\n    /**\n     * update visibility collections of legend and series\n     * @private\n     */\n    Legend.prototype.updateLegendRangeCollections = function (load) {\n        if (load) {\n            var heatMap = this.heatMap;\n            heatMap.rangeSelection = !heatMap.legendOnLoad ? true : false;\n            this.visibilityCollections = !heatMap.legendOnLoad ? this.visibilityCollections : [];\n            heatMap.toggleValue = !heatMap.legendOnLoad ? heatMap.toggleValue : [];\n            this.legendRange = !heatMap.legendOnLoad ? this.legendRange : [];\n            this.legendTextRange = !heatMap.legendOnLoad ? this.legendTextRange : [];\n        }\n        else {\n            this.legendRange = [];\n            this.legendTextRange = [];\n        }\n    };\n    return Legend;\n}());\nexport { Legend };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer, Browser } from '@syncfusion/ej2-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement, SelectedCellDetails } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TooltipSettings } from './utils/tooltip';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * The width of the heatmap as a string accepts input as both like '100px' or '100%'.\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.toggleValue = [];\n        /** @private */\n        _this.legendOnLoad = true;\n        /** @private */\n        _this.resizing = false;\n        /** @private */\n        _this.rendering = true;\n        /** @private */\n        _this.horizontalGradient = _this.legendSettings.position === 'Bottom' || _this.legendSettings.position === 'Top';\n        /** @private */\n        _this.multiSelection = false;\n        /** @private */\n        _this.rectSelected = false;\n        /** @private */\n        _this.previousSelectedCellsRect = [];\n        /** @private */\n        _this.multiCellCollection = [];\n        /** @private */\n        _this.tempMultiCellCollection = [];\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.secondaryCanvasRenderer = new CanvasRenderer(this.element.id + '_secondary');\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        this.initAxis();\n        this.processInitData();\n        this.setTheme();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.appendSvgObject();\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv(this);\n            }\n        }\n    };\n    /**\n     * Get component name\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    this.rendering = false;\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendModule && ((newProp.cellSettings.tileType !==\n                        oldProp.cellSettings.tileType) || (newProp.cellSettings.bubbleType !== oldProp.cellSettings.bubbleType))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections(true);\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                    this.isCellData = false;\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections(true);\n                    }\n                    this.reRenderDatasource();\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                    refreshBounds = true;\n                    break;\n                case 'legendSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType && (((newProp.legendSettings.visible !== oldProp.legendSettings.visible) ||\n                        (newProp.legendSettings.enableSmartLegend !== oldProp.legendSettings.enableSmartLegend)))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections(false);\n                    }\n                    else {\n                        this.legendOnLoad = false;\n                    }\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections(true);\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections(true);\n                    }\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.tooltipObject.fill = this.tooltipSettings.fill;\n                        this.tooltipModule.tooltipObject.border = this.tooltipSettings.border;\n                        this.tooltipModule.tooltipObject.textStyle = this.tooltipSettings.textStyle;\n                        this.tooltipModule.tooltipObject.refresh();\n                    }\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.appendSvgObject();\n            this.trigger('created');\n            this.clearSelection();\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.appendSvgObject();\n            this.trigger('created');\n        }\n        if (this.allowSelection && this.rectSelected) {\n            this.clearSelection();\n        }\n        this.rendering = true;\n    };\n    /**\n     * create svg or canvas element\n     * @private\n     */\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.allowSelection) {\n                this.createMultiCellDiv(true);\n            }\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (document.getElementById(this.element.id + '_Multi_CellSelection_Canvas')) {\n            remove(document.getElementById(this.element.id + '_Multi_CellSelection_Canvas'));\n        }\n        if (document.getElementById(this.element.id + '_CellSelection_Container')) {\n            remove(document.getElementById(this.element.id + '_CellSelection_Container'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        this.element.appendChild(tooltipDiv);\n        var divElement = this.createElement('div', {\n            id: this.element.id + '_CellSelection_Container',\n            styles: 'position:absolute; z-index: 2',\n        });\n        this.element.appendChild(divElement);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return{ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     * @method destroy\n     * @return {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    /**\n     * Appending svg object to the element\n     * @private\n     */\n    HeatMap.prototype.appendSvgObject = function () {\n        if (this.enableCanvasRendering && this.allowSelection) {\n            this.createMultiCellDiv(false);\n        }\n        else {\n            this.element.appendChild(this.svgObject);\n        }\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', this.themeStyle.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_XAxis_MultiLevel') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_MultiLevel') !== -1)) {\n            var tooltipText = getTooltipText(this.tooltipCollection, x, y);\n            if (tooltipText) {\n                showTooltip(tooltipText, this.mouseX, this.mouseY, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n            }\n            else {\n                removeElement(this.element.id + '_axis_Tooltip');\n            }\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) ? true : false;\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        this.titleRect = new Rect(margin.left, margin.top, this.availableSize.width - margin.left - margin.right, titleHeight);\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            axis.jsonCellLabel = [];\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize.bind(this));\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, move, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize);\n    };\n    /**\n     * Handles the heatmap resize.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        this.resizing = true;\n        this.clearSelection();\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            _this.refreshBound();\n            _this.appendSvgObject();\n            _this.resizing = false;\n        }, 500);\n        return false;\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = false;\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger('cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id)\n            });\n        }\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n            var legendRange = this.legendModule.legendRange;\n            var legendTextRange = this.legendModule.legendTextRange;\n            var loop = true;\n            for (var i = 0; i < legendRange.length; i++) {\n                if (this.legendModule && this.legendSettings.toggleVisibility &&\n                    this.legendModule.currentPage === legendRange[i].currentPage) {\n                    if ((loop && (pageX >= legendRange[i].x && pageX <= legendRange[i].width + legendRange[i].x) &&\n                        (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                        ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                            pageX >= legendTextRange[i].x && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                            (pageY >= legendTextRange[i].y && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                        this.legendModule.legendRangeSelection(i);\n                        loop = false;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n                this.renderMousePointer(pageX, pageY);\n            }\n            var isshowTooltip = void 0;\n            var currentRect = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? isheatmapRect : false;\n            if (isheatmapRect) {\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                isshowTooltip = this.cellSelectionOnMouseMove(e, currentRect, pageX, pageY, isshowTooltip);\n            }\n            this.tooltipOnMouseMove(e, currentRect, isshowTooltip);\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e);\n                }\n            }\n            else {\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY));\n                if (tooltipText) {\n                    showTooltip(tooltipText, this.mouseX, this.mouseY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Triggering cell selection\n     */\n    HeatMap.prototype.cellSelectionOnMouseMove = function (e, currentRect, pageX, pageY, isshowTooltip) {\n        if ((this.cellSettings.tileType === 'Rect' && e.type === 'mousedown' || e.type === 'touchstart') && this.allowSelection) {\n            this.previousRect = currentRect;\n            this.multiSelection = true;\n            this.rectSelected = true;\n            this.initialCellX = pageX;\n            this.initialCellY = pageY;\n        }\n        if (this.cellSettings.tileType === 'Rect' && this.multiSelection && currentRect) {\n            this.highlightSelectedCells(this.previousRect, currentRect, pageX, pageY);\n            isshowTooltip = false;\n        }\n        return isshowTooltip;\n    };\n    /**\n     * Rendering tooltip on mouse move\n     */\n    HeatMap.prototype.tooltipOnMouseMove = function (e, currentRect, isshowTooltip) {\n        var _this = this;\n        if (isshowTooltip) {\n            if (this.tempTooltipRectId !== currentRect.id) {\n                if (this.showTooltip) {\n                    if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                        && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(currentRect.id);\n                    }\n                    this.tooltipModule.renderTooltip(currentRect);\n                    if (this.isTouch) {\n                        if (this.tooltipTimer) {\n                            window.clearTimeout(this.tooltipTimer);\n                        }\n                        this.tooltipTimer = setTimeout(function () {\n                            _this.tooltipModule.tooltipObject.fadeOut();\n                            _this.tooltipModule.isFadeout = true;\n                        }, 1500);\n                        if (e.type === 'touchmove') {\n                            e.preventDefault();\n                        }\n                    }\n                }\n                this.tempTooltipRectId = currentRect.id;\n            }\n        }\n        else {\n            if (e.target.id.indexOf('Celltooltip') === -1) {\n                if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering) {\n                    this.heatMapSeries.highlightSvgRect(e.target.id);\n                }\n                if (this.tooltipModule && this.showTooltip) {\n                    this.tooltipModule.showHideTooltip(false, true);\n                }\n            }\n            this.tempTooltipRectId = '';\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedCells = function (previousRect, currentRect, pageX, pageY) {\n        var pXIndex = previousRect.xIndex;\n        var pYIndex = previousRect.yIndex;\n        var cXIndex = currentRect.xIndex;\n        var cYIndex = currentRect.yIndex;\n        var xIndex = Math.abs((currentRect.xIndex === previousRect.xIndex ? 0 : currentRect.xIndex - previousRect.xIndex)) + 1;\n        var yIndex = Math.abs((currentRect.yIndex === previousRect.yIndex ? 0 : currentRect.yIndex - previousRect.yIndex)) + 1;\n        var minX = cXIndex > pXIndex ? pXIndex : cXIndex;\n        var maxX = cXIndex > pXIndex ? cXIndex : pXIndex;\n        var minY = cYIndex > pYIndex ? pYIndex : cYIndex;\n        var maxY = cYIndex > pYIndex ? cYIndex : pYIndex;\n        var tempX = minX;\n        var tempY = minY;\n        var cellX = previousRect.x;\n        var cellY = previousRect.y;\n        this.selectedCellsRect = new Rect(0, 0, 0, 0);\n        this.selectedCellsRect.x = previousRect.x > currentRect.x ? currentRect.x : previousRect.x;\n        this.selectedCellsRect.y = previousRect.y > currentRect.y ? currentRect.y : previousRect.y;\n        this.selectedCellsRect.width = ((previousRect.x > currentRect.x ? (pXIndex - cXIndex) :\n            (cXIndex - pXIndex)) + 1) * currentRect.width;\n        this.selectedCellsRect.height = ((previousRect.y > currentRect.y ? (pYIndex - cYIndex) :\n            (cYIndex - pYIndex)) + 1) * currentRect.height;\n        this.removeSelectedCellsBorder();\n        this.multiCellCollection = [];\n        for (var i = 0; i < (xIndex * yIndex); i++) {\n            this.getSelectedCellDatas(cellX, cellY);\n            if (tempX < maxX) {\n                cellX += cXIndex > pXIndex ? currentRect.width : -currentRect.width;\n                tempX++;\n            }\n            else if (tempY < maxY) {\n                cellY += cYIndex > pYIndex ? currentRect.height : -currentRect.height;\n                cellX = previousRect.x;\n                tempX = minX;\n            }\n        }\n        var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n        var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n        var parentDiv = document.getElementById(this.element.id + '_CellSelection_Container');\n        parentDiv.style.left = (this.selectedCellsRect.x - 1) + 'px';\n        parentDiv.style.top = (this.selectedCellsRect.y - 1) + 'px';\n        var svgObject = this.renderer.createSvg({\n            id: this.element.id + '_CellSelection_Container_svg',\n            width: this.selectedCellsRect.width + 2,\n            height: this.selectedCellsRect.height + 2\n        });\n        parentDiv.appendChild(svgObject);\n        var parent = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n        var rect = new Rect(x - this.selectedCellsRect.x, y - this.selectedCellsRect.y, Math.abs(pageX - this.initialCellX), Math.abs(pageY - this.initialCellY));\n        var rectItems = new RectOption(this.element.id + '_selectedCells', '#87ceeb', { color: 'transparent', width: 1 }, 1, rect, '#0000ff');\n        parent.appendChild(this.renderer.drawRectangle(rectItems));\n        document.getElementById(this.element.id + '_selectedCells').style.opacity = '0.5';\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.removeSelectedCellsBorder = function () {\n        if (!this.enableCanvasRendering) {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rectElement = this.multiCellCollection[i].cellElement;\n                if (rectElement) {\n                    var index = rectElement.id.slice((this.element.id + '_HeatMapRect_').length);\n                    var textElement = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                    var elementClassName = rectElement.getAttribute('class');\n                    if (this.tempMultiCellCollection.length > 0) {\n                        rectElement.setAttribute('opacity', '0.3');\n                        if (this.cellSettings.showLabel && textElement) {\n                            textElement.setAttribute('opacity', '0.3');\n                        }\n                    }\n                    this.removeSvgClass(rectElement, textElement, elementClassName);\n                }\n            }\n        }\n        else {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            var rect = this.previousSelectedCellsRect[0];\n            if (this.previousSelectedCellsRect.length > 0) {\n                ctx.save();\n                ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                ctx.restore();\n                this.previousSelectedCellsRect.shift();\n            }\n        }\n        if (this.element.id + '_selectedCellsBorder') {\n            removeElement(this.element.id + '_selectedCellsBorder');\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedAreaInCanvas = function (rect) {\n        var oldCanvas = document.getElementById(this.element.id + '_canvas');\n        var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n        var initialRect = this.initialClipRect;\n        var rectImage = oldCanvas.getContext('2d').getImageData(rect.x, rect.y, rect.width, rect.height);\n        newCanvas.getContext('2d').putImageData(rectImage, rect.x, rect.y);\n        oldCanvas.style.opacity = '0.3';\n        var topPosition = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n        newCanvas.getContext('2d').putImageData(topPosition, 0, 0);\n        var bottomPosition = oldCanvas.getContext('2d').getImageData(0, initialRect.y + initialRect.height, this.availableSize.width, this.availableSize.height - (initialRect.y + initialRect.height));\n        newCanvas.getContext('2d').putImageData(bottomPosition, 0, initialRect.y + initialRect.height);\n        var rightPosition = oldCanvas.getContext('2d').getImageData(initialRect.x + initialRect.width, 0, this.availableSize.width - (initialRect.x + initialRect.width), this.availableSize.height);\n        newCanvas.getContext('2d').putImageData(rightPosition, initialRect.x + initialRect.width, 0);\n        var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n        newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.getSelectedCellDatas = function (cellX, cellY) {\n        var xAxis = this.axisCollections[0];\n        var yAxis = this.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var rectPosition = this.heatMapSeries.getCurrentRect(cellX + 1, cellY + 1);\n        var currentRect = document.getElementById(rectPosition.id);\n        var cellDetails = new SelectedCellDetails(null, '', '', 0, 0, null);\n        cellDetails.value = rectPosition.value;\n        cellDetails.xLabel = xLabels[rectPosition.xIndex].toString();\n        cellDetails.yLabel = yLabels[rectPosition.yIndex].toString();\n        cellDetails.xValue = xAxis.labelValue[rectPosition.xIndex];\n        cellDetails.yValue = yAxis.labelValue.slice().reverse()[rectPosition.yIndex];\n        cellDetails.cellElement = this.enableCanvasRendering ? null : currentRect;\n        this.addSvgClass(currentRect);\n        if (rectPosition.visible && !isNullOrUndefined(rectPosition.value)) {\n            this.multiCellCollection.push(cellDetails);\n        }\n    };\n    /**\n     * To add class for selected cells\n     * @private\n     */\n    HeatMap.prototype.addSvgClass = function (element) {\n        if (!this.enableCanvasRendering) {\n            var className = this.element.id + '_selected';\n            element.setAttribute('class', className);\n        }\n    };\n    /**\n     * To remove class for unselected cells\n     * @private\n     */\n    HeatMap.prototype.removeSvgClass = function (rectElement, textElement, className) {\n        if (className) {\n            rectElement.setAttribute('class', className.replace(className, ''));\n        }\n    };\n    /**\n     * To clear the multi cell selection\n     */\n    HeatMap.prototype.clearSelection = function () {\n        if (!this.enableCanvasRendering) {\n            var rect = document.getElementById(this.element.id + '_Container_RectGroup');\n            var text = document.getElementById(this.element.id + '_Container_TextGroup');\n            for (var i = 0; i < rect.childNodes.length; i++) {\n                var elementClassName = rect.children[i].getAttribute('class');\n                if (elementClassName === this.element.id + '_selected') {\n                    this.removeSvgClass(rect.children[i], text.children[i], elementClassName);\n                }\n                rect.children[i].setAttribute('opacity', '1');\n                if (this.cellSettings.showLabel && text && text.children[i]) {\n                    text.children[i].setAttribute('opacity', '1');\n                }\n            }\n        }\n        else {\n            if (this.previousSelectedCellsRect.length > 0) {\n                var ctx = this.secondaryCanvasRenderer.ctx;\n                ctx.save();\n                ctx.clearRect(this.previousSelectedCellsRect[0].x - 1, this.previousSelectedCellsRect[0].y - 1, this.previousSelectedCellsRect[0].width + 2, this.previousSelectedCellsRect[0].height + 2);\n                ctx.restore();\n            }\n            var canvas = document.getElementById(this.element.id + '_canvas');\n            canvas.style.opacity = '1';\n        }\n        this.tempMultiCellCollection = [];\n        this.multiCellCollection = [];\n        this.rectSelected = false;\n        if (this.element.id + '_selectedCellsBorder') {\n            removeElement(this.element.id + '_selectedCellsBorder');\n        }\n    };\n    HeatMap.prototype.renderMousePointer = function (pageX, pageY) {\n        var legendRange = this.legendModule.legendRange;\n        var legendTextRange = this.legendModule.legendTextRange;\n        var loop = true;\n        for (var i = 0; i < legendRange.length; i++) {\n            if (this.legendSettings.toggleVisibility && this.legendModule.currentPage === legendRange[i].currentPage) {\n                if ((loop && (pageX >= legendRange[i].x && pageX <= legendRange[i].width + legendRange[i].x) &&\n                    (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                    ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                        pageX >= legendTextRange[i].x && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                        (pageY >= legendTextRange[i].y && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = 'Pointer';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = 'Pointer';\n                    }\n                    loop = false;\n                }\n                else if (loop) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = '';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.allowSelection && this.multiSelection) {\n            this.multiSelection = false;\n            if (e.type === 'mouseup' || e.type === 'touchend') {\n                if (!this.enableCanvasRendering) {\n                    this.tempMultiCellCollection.push(this.multiCellCollection);\n                    var containerRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                    var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                    for (var i = 0; i < containerRect.childNodes.length; i++) {\n                        var elementClassName = containerRect.children[i].getAttribute('class');\n                        if (elementClassName !== this.element.id + '_selected') {\n                            containerRect.children[i].setAttribute('opacity', '0.3');\n                            if (this.cellSettings.showLabel && containerText.children[i]) {\n                                containerText.children[i].setAttribute('opacity', '0.3');\n                            }\n                        }\n                        else {\n                            containerRect.children[i].setAttribute('opacity', '1');\n                            if (this.cellSettings.showLabel && containerText.children[i]) {\n                                containerText.children[i].setAttribute('opacity', '1');\n                            }\n                        }\n                    }\n                }\n                else {\n                    this.previousSelectedCellsRect.push(this.selectedCellsRect);\n                    this.highlightSelectedAreaInCanvas(this.selectedCellsRect);\n                }\n                removeElement(this.element.id + '_selectedCells');\n                var rect = new Rect(1, 1, this.selectedCellsRect.width, this.selectedCellsRect.height);\n                var rectItems = new RectOption(this.element.id + '_selectedCellsBorder', 'none', { color: 'transparent', width: 1 }, 1, rect, 'Black');\n                var parent_1 = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n                parent_1.appendChild(this.renderer.drawRectangle(rectItems));\n                var argData = {\n                    heatmap: this,\n                    cancel: false,\n                    name: 'cellSelected',\n                    data: this.multiCellCollection\n                };\n                this.trigger('cellSelected', argData);\n            }\n            else if (e.type === 'mouseleave' && (this.element.id + '_selectedCells')) {\n                removeElement(this.element.id + '_selectedCells');\n            }\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            if (!this.enableCanvasRendering) {\n                removeElement(this.element.id + '_Title_Tooltip');\n            }\n            else {\n                removeElement(this.element.id + '_canvas_Tooltip');\n            }\n        }\n        return true;\n    };\n    /**\n     * To create div container for rendering two layers of canvas.\n     * @return {void}\n     * @private\n     */\n    HeatMap.prototype.createMultiCellDiv = function (onLoad) {\n        if (onLoad) {\n            var divElement = this.createElement('div', {\n                id: this.element.id + '_Multi_CellSelection_Canvas',\n                styles: 'position:relative'\n            });\n            this.element.appendChild(divElement);\n            divElement.appendChild(this.svgObject);\n            this.svgObject.style.position = 'absolute';\n            this.svgObject.style.left = '0px';\n            this.svgObject.style.top = '0px';\n            this.svgObject.style.zIndex = '0';\n        }\n        else {\n            var element = document.getElementById(this.element.id + '_Multi_CellSelection_Canvas');\n            var secondaryCanvas = this.secondaryCanvasRenderer.createCanvas({\n                width: this.availableSize.width,\n                height: this.availableSize.height, x: 0, y: 0,\n                style: 'position: absolute; z-index: 1'\n            });\n            element.appendChild(secondaryCanvas);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Property(false)\n    ], HeatMap.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], HeatMap.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the Adaptor Property in the Heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Data.prototype, \"data\", void 0);\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('cell')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (adaptData) {\n        if (adaptData.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(adaptData, xAxis, yAxis);\n            }\n            this.heatMap.isCellData = true;\n        }\n        if (adaptData && adaptData.data === undefined) {\n            this.heatMap.completeAdaptDataSource = adaptData;\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Table' || adaptData.data === null) {\n            this.heatMap.completeAdaptDataSource = adaptData.data;\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(adaptData);\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(adaptData);\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(adaptData);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        var intervalType;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (adapData, xAxis, yAxis) {\n        var data = adapData.data;\n        var label = Object.keys(data[0]);\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[1]] : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[1]] : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            // tslint:disable-next-line:no-any\n            var xDataIndex = adapData.isJsonData ? data[dataIndex][label[0]] : data[dataIndex][0];\n            // tslint:disable-next-line:no-any\n            var yDataIndex = adapData.isJsonData ? data[dataIndex][label[1]] : data[dataIndex][1];\n            if (xDataIndex < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = xDataIndex;\n            }\n            if (xDataIndex > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = xDataIndex;\n            }\n            if (yDataIndex < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = yDataIndex;\n            }\n            if (yDataIndex > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = yDataIndex;\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] = isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                            '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xAxisLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yAxisLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var axisCollections = this.heatMap.axisCollections;\n        if (xAxisLabels.length === 0 || yAxisLabels.length === 0) {\n            this.generateAxisLabels(adaptordata);\n        }\n        var xLabels = (this.heatMap.xAxis.valueType === 'Category') ? (xAxisLabels.length > 0 ?\n            this.heatMap.xAxis.labels : axisCollections[0].jsonCellLabel) : axisCollections[0].labelValue;\n        var yLabels = (this.heatMap.yAxis.valueType === 'Category') ? (yAxisLabels.length > 0 ?\n            this.heatMap.yAxis.labels : axisCollections[1].jsonCellLabel) : axisCollections[1].labelValue;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'), this.heatMap.yAxis.valueType);\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.'), ''),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'), '')\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'), '');\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to generate axis labels when labels are not given.\n     * @return {string}\n     * @private\n     */\n    Adaptor.prototype.generateAxisLabels = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var hasXLabels = xLabels.length > 0 ? true : false;\n        var hasYLabels = yLabels.length > 0 ? true : false;\n        var axisCollection = this.heatMap.axisCollections;\n        for (var index = 0; index < axisCollection.length; index++) {\n            var valueType = axisCollection[index].valueType;\n            var axis = axisCollection[index];\n            if (valueType === 'Category') {\n                var hasLabels = void 0;\n                var dataMapping = void 0;\n                var labels = void 0;\n                if (axis.orientation === 'Horizontal') {\n                    hasLabels = hasXLabels;\n                    dataMapping = adaptordata.xDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                else {\n                    hasLabels = hasYLabels;\n                    dataMapping = adaptordata.yDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                if (!hasLabels) {\n                    for (var i = 0; i < tempDataCollection.length; i++) {\n                        if (dataMapping in tempDataCollection[i]) {\n                            var xValue = tempDataCollection[i][dataMapping].toString();\n                            if (labels.indexOf(xValue.toString()) === -1) {\n                                labels.push(xValue);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (valueType === 'DateTime') {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n        }\n    };\n    /**\n     * Method to get data from complex mapping.\n     * @return {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // tslint:disable-next-line:no-any \n    tempSplitDataCollection, adaptordata, labels, tempSplitData, valueType) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? (!(valueType === 'DateTime') ?\n                labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) :\n                labels.map(Number).indexOf(+this.tempSplitDataCollection[tempSplitData[splitIndex]])) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function (heatMap) {\n        /**\n         * No Lines\n         */\n    };\n    ;\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n"],"names":["stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerHTML","style","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","sum","values","_i","values_1","length","titlePositionY","heatmapSize","topPadding","bottomPadding","height","rotateTextSize","angle","box","options","renderer","SvgRenderer","svgObject","createSvg","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","currentLabel","maximumWidth","textCollection","split","label","labelCollection","i","len","concat","maxWidth","index","substring","showTooltip","x","y","areaWidth","element","isTouch","heatmap","tooltip","initialClipRect","toString","styles","titleSettings","availableSize","setTimeout","removeElement","getElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","color","window","getComputedStyle","isRGBValue","exec","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","formatValue","isCustom","format","tempInterval","formatFun","replace","Theme","heatMapTitleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","tooltipFont","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","TooltipBorder","BubbleData","Title","Complex","PaletteCollection","AxisLabelBorder","MultiLevelCategories","MultiLevelLabels","type","Collection","ColorCollection","BubbleTooltipData","mappingName","bubbleData","valueType","LegendColorCollection","isHidden","PaletteSettings","g","CellColor","heatMap","convertToRGB","colorMapping","previousOffset","nextOffset","offset","Number","percent","isNaN","previousColor","getEqualColor","nextColor","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","colorCollection","legendColorCollection","range","minValue","bubbleSizeWithColor","minColorValue","dataSourceMinValue","maxValue","maxColorValue","dataSourceMaxValue","emptyPointColor","paletteSettings","themeStyle","emptyCellColor","tempcolorMapping","orderbyOffset","palette","isCompact","offsets","extend","updateLegendColorCollection","isLabel","unshift","returnCollection","PaletterColor","sort","a","isNullOrUndefined","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","singleValue","legendRange","legendVisibilityByCellType","legendModule","visible","toggledColor","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","call","stroke","parseFloat","CurrentRect","xIndex","yIndex","xValue","yValue","displayText","textId","SelectedCellDetails","xLabel","yLabel","cellElement","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","dy","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","start","end","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","tspanElement","renderOptions","dominant-baseline","drawText","createTSpan","drawLine","translateX","translateY","ctx","getOptionValue","toLowerCase","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","LegendRange","currentPage","ToggleVisibility","MultiLevelPosition","Axis","nearSizes","farSizes","maxLabelSize","titleSize","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","jsonCellLabel","multiLevelSize","xAxisMultiLabelHeight","yAxisMultiLabelHeight","multiLevelPosition","computeSize","axis","getTitleSize","getMaxLabelSize","getMultilevelLabelsHeight","multiLevelLabels","multiLevelLabelSize","multiPosition","innerPadding","orientation","level0","level1","isInversed","opposedPosition","labelSize","multiLevel","categoryLabel","categories","size_1","textStyle","gap","startPosition","endPosition","multiLevelLabelsHeight","isVertical","padding","map","heatMapAxis","calculateLeftPosition","calculateWidth","maximumTextWidth","abs","overflow","labels","labelIntersectAction","showLabelOn","startX","previousEnd","previousStart","elementSize","axisInterval","startPoint","endPoint","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","labelFormat","match","intl","getNumberFormat","floor","reverse","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","difference","days","years","months","hours","clearAxisLabel","AxisHelper","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","drawMultiLevels","parent","axisTitle","calculateVisibleLabels","axisCollection","data","dataSource","processLabels","isJsonData","adaptorType","measureAxis","calculateAxisSize","axis_1","i_1","compactInterval","tempintervel","labelPadding","lableStrtX","labelElement","borderElement","lableRect","drawXAxisBorder","rotateSize","diffHeight","axisLabel","labelInterval","lableStartY","labelRect","Browser","isIE","drawYAxisBorder","lableX","endX","endY","startY","createAxisBorderElement","lableY","labelBorder","pathOptions","canvasTranslate","renderXAxisMultiLevelLabels","renderYAxisMultiLevelLabels","textLength","pathRect","level","alignment","textBasic","i_2","renderXAxisLabelBorder","createBorderElement","labelIndex","renderYAxisLabelBorder","borderIndex","calculateNumberOfDays","date","firstDate","secondDate","givenDate","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","xLength","yLength","tempBorder","circleRadius","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","rectPositionCollection","bubbleColorValue","yAxis","getBubbleRadius","setTextAndColor","rectPosition","renderingMode","updateRectDetails","showLabel","getFormatedText","cellRender","cellRendering","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","tempCircleRadius","getRadiusBypercentage","themeCellTextStyle","getSaturatedColor","rangeSelection","toggleCellTextColor","containerTextObject","containerRectObject","toggleValue","clonedDataSource","bubbleText","xAxis","xLabels","yLabels","slice","yLabelValue","argData","cancel","name","trigger","adaptData","isColorValueExist","tempBubbleCollection","bubbleDataMapping","cellBorder","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","tempRectHoverClass","enableCellHighlighting","oldElement","rectSelected","setAttribute","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TooltipSettings","Tooltip","isFirst","isFadeout","getModuleName","showHideTooltip","isShow","ele","tooltipObject","fadeOut","firstChild","destroy","createTooltip","tempTooltipText","tool","enableAnimation","location","theme","content","tooltipSettings","areaBounds","createTooltipDiv","element2","getTooltipContent","hetmapSeries","value1","value2","renderTooltip","tooltipRender","TwoDimensional","processDataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","labelLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","legendTextRange","visibilityCollections","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","resizing","legendOnLoad","rendering","grd","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","addColorStop","gradientOptions","gradientColor","cgradientColors","gradientPercentage","linearGradient","drawGradient","rectItem","renderColorAxisGrid","renderSmartLegend","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","smartLegendRect","legendX","legendY","legendWidth","legendHeight","labelDisplayType","dominantBaseline","legendLabel","textWrapWidth","clip","labelX","labelY","legendRectPadding","textPosition","lastChild","clippath","createClipPath","clipRect","renderGradientPointer","e","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","keys","background","calculateLegendBounds","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","axisTitlePadding","axisHeight","margin","axisWidth","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","calculateColorAxisGrid","legendPart","maxTextWrapLength","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendLabelTooltip","mouseX","mouseY","textContent","targetId","offsetWidth","division","listColor","translatePage","page","isNext","removeChild","childNodes","allowSelection","secondaryCanvasRenderer","initialRect","rectWidth","rectHeight","clearRect","oldCanvas","newCanvas","rectImage","getContext","getImageData","putImageData","currentLegendRect","inverted","legendRangeSelection","clearSelection","updateLegendRangeCollections","load","HeatMap","multiSelection","previousSelectedCellsRect","multiCellCollection","tempMultiCellCollection","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","initAxis","processInitData","setTheme","calculateMaxLength","completeAdaptDataSource","calculateBounds","renderElements","appendSvgObject","tooltipModule","reRenderDatasource","constructDatasource","setRenderMode","renderSecondaryElement","renderBorder","renderTitle","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","_a","refresh","refreshBound","removeSvg","calculateSize","createCanvas","createMultiCellDiv","tooltipDiv","divElement","requiredModules","modules","member","args","classList","add","offsetHeight","heatMapTitle","titleTooltip","event","axisTooltip","tooltipText","isHeatmapRect","lastRectDetails","cellTextColor","getThemeColor","titleHeight","titleRect","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","EventHandler","isDevice","heatMapMouseClick","heatMapMouseMove","heatMapMouseLeave","addEventListener","heatMapResize","bind","setStyle","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","removeEventListener","resizeTimer","clearTimeout","isDestroyed","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","touchArg","elementRect","changedTouches","clientY","clientX","notify","loop","toggleVisibility","isheatmapRect","showGradientPointer","renderMousePointer","isshowTooltip","cellSelectionOnMouseMove","tooltipOnMouseMove","tooltipRect","previousRect","initialCellX","initialCellY","highlightSelectedCells","tooltipTimer","preventDefault","pXIndex","pYIndex","cXIndex","cYIndex","minX","maxX","maxY","cellX","cellY","selectedCellsRect","removeSelectedCellsBorder","getSelectedCellDatas","parentDiv","shift","rectElement","textElement","elementClassName","getAttribute","removeSvgClass","highlightSelectedAreaInCanvas","topPosition","bottomPosition","rightPosition","leftPosition","cellDetails","addSvgClass","className","children","cursor","containerRect","containerText","tooltipElement_1","legendTooltipTimer","gradientTimer","main","onLoad","zIndex","secondaryCanvas","Event","NotifyPropertyChanges","Component","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","adapData","dataIndex","xDataIndex","yDataIndex","adaptordata","tempDataCollection","currentDataXIndex","currentDataYIndex","reconstructData","xindex","xAxisLabels","yAxisLabels","generateAxisLabels","getSplitDataValue","xDataMapping","yDataMapping","valueMapping","hasXLabels","hasYLabels","hasLabels","dataMapping","tempSplitDataCollection","tempSplitData","splitIndex"],"mappings":"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"}